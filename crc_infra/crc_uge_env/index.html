<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://crcresearch.github.io/ndcmsT3/crc_infra/crc_uge_env/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>UGE Environment - CMS Tier 3 at University of Notre Dame</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "UGE Environment";
        var mkdocs_page_input_path = "crc_infra/crc_uge_env.md";
        var mkdocs_page_url = "/ndcmsT3/crc_infra/crc_uge_env/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../images/crc_logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">HOME</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">NEW USER INFO</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/obtain_account/">Obtaining a CRC account</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/quick_start/">Quick Start Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/connecting_to_crc/">Connecting to CRC Servers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/linux_guide/">Basic Linux Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/modules/">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/introductory_videos/">Introductory Videos</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../new_user/training/">Training Events</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">HELP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../help/faq/">FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../help/help/">Getting Help</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CRC INFRASTRUCTURE</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../resources/">CRC Resources</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../software/">CRC Software</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../available_hardware/">Available Hardware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../storage/">Storage</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">UGE Environment</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#queues">Queues</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#parallel-environments">Parallel Environments</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#host-groups">Host Groups</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#user-groups">User Groups</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../faculty_infrastructure/">Faculty Cluster Partnership Program</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../landing/">Maintenance</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RESOURCES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../resources/gpu/">GPU</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../resources/condor/">HTCondor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../resources/globus/">Globus</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../resources/ndcms/">NDCMS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../resources/singularity/">Apptainer/Singularity</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../resources/caml/">CAML</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">POPULAR MODULES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/matlab/">Matlab</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/python/">Python</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/r/">R</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/tensorflow/">Tensorflow</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/conda/">Conda</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">CMS Tier 3 at University of Notre Dame</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">CRC INFRASTRUCTURE</li>
      <li class="breadcrumb-item active">UGE Environment</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/crcresearch/ndcmsT3/edit/master/docs/crc_infra/crc_uge_env.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="uge-environment">UGE Environment</h1>
<p>General access to the CRC computational resources is managed with the Grid Engine software tool set. Users should be aware of 4 key framework concepts/components in order to achieve the most effective access to CRC compute nodes. The 4 components covered here are queues, parallel environments, host groups, and user groups. In this document the terms core, slot, and process can be considered suitably equivalent. Note this documentation only covers the CRC general resource pool. There are additional unique instances for particular research group requirements.</p>
<p>Using the information found within this page, you are able to submit jobs to the CRC's batch system. For more information on the submission process, see <code>submitting_batch_jobs</code>.</p>
<hr />
<h2 id="queues">Queues</h2>
<p>CRC queues are configured for differing user run time requirements:</p>
<ul>
<li>long (15 days, no limit on # of cores, normal priority)</li>
<li>a maximum limit of 50 running jobs combined between all queues</li>
<li>a maximum limit of 2,000 tasks within an array job</li>
<li>NOTE: The long queue contains many machines with various hardware architectures. The debug queue consists of only Intel based servers each with a total of 24 cores with 64GB of RAM*</li>
</ul>
<p>Queues are specified in your submit script with the syntax</p>
<pre class="highlight"><code class="language-shell">#$ -q long</code></pre>
<hr />
<h2 id="parallel-environments">Parallel Environments</h2>
<p>Parallel Environments (PE) allow the user to specify the mechanisms by which the target code runs in parallel. If a PE is not specified the job will be treated as a serial job and be allocated 1 core. Note that all CRC machines are configured for <strong>ONE</strong> thread per core.</p>
<ul>
<li>Use the MPI PEs (mpi-24, mpi-48, etc...) when you need more cores than available on 1 machine</li>
<li>Use the SMP PE when you need less than or equal to the number of cores on one machine</li>
</ul>
<p>Common Parallel Environments include:</p>
<pre class="highlight"><code>* smp (shared memory processing on a single machine up to 64 cores)

* MPI is the PE for MPI applications at the CRC (which have been compiled against OpenMPI, MPICH2, and MVAPICH MPI libraries)*

* mpi-24 (multi [24 core per] machine processing in 24 core increments)

* mpi-32 (multi [32 core per] machine processing in 32 core increments)

* mpi-64 (multi [64 core per] machine processing in 64 core increments)</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Increments (24,48,64) are mapped to total cores per server. A server with 24 cores will not accept mpi-32 requests.</p>
</div>
<p>PEs are specified in your submit script with the syntax:</p>
<pre class="highlight"><code>#$ -pe mpi-64 128

#$ -pe smp 8</code></pre>
<hr />
<h2 id="host-groups">Host Groups</h2>
<p>Hosts groups allow for the specification of hosts/servers with differing architectures. For example a user can specify a host group of Intel versus AMD based servers.</p>
<p>Host groups are specified with the syntax, using the general access host group as an example::</p>
<pre class="highlight"><code>#$ -q *@@crc_d32cepyc</code></pre>
<p>To see all available host groups, you can use the -shgrpl flag with qconf as seen below. Note that you will not be able to run jobs on all host groups, only on those which are a part of your research group / groups you have been granted access to.</p>
<pre class="highlight"><code class="language-shell">qconf -shgrpl</code></pre>
<hr />
<h2 id="user-groups">User Groups</h2>
<p>User groups allow for the designation resource access to specific individuals. This is most often utilized for faculty or group owned resources accessible through the Grid Engine like host groups as explained above. Users do not need to specify their user group as this is automatically determined by user ID. Users must however make sure via their faculty adviser that their ID is in the user group. If it is not, have your PI / faculy advisor send an email to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#67;&#82;&#67;&#83;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#110;&#100;&#46;&#101;&#100;&#117;">&#67;&#82;&#67;&#83;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#110;&#100;&#46;&#101;&#100;&#117;</a>.</p>
<p>To view all user lists, pass the -sul flag to qconf.</p>
<pre class="highlight"><code class="language-shell">qconf -sul</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../storage/" class="btn btn-neutral float-left" title="Storage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../faculty_infrastructure/" class="btn btn-neutral float-right" title="Faculty Cluster Partnership Program">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/crcresearch/ndcmsT3" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../storage/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../faculty_infrastructure/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
